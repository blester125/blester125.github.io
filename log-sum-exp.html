<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Numberically Stable LogSumExp</title>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
</head>
<body>
<p>

  \[
     \begin{align}

     \log \sum_{i+1}^n e^{x_i} &= \alpha + \log \sum_{i=1}^n e_{x_i - \alpha} \\
     \alpha &= \max_i x_i

     \end{align}
  \]

  \[
     \begin{align}

     y &= \log \sum_{i=1}^n e^{x_i} \\
     e^y &= e^{\log \sum\nolimits_{i=1}^n e^{x_i}} \\
     e^y &= \sum_{i=1}^n e^{x_i} \\
     e^{-\alpha} e^y &= e^{-\alpha} \sum_{i=1}^n e^{x_i} \\
     e^{-\alpha} e^y &= \sum_{i=1}^n e^{-\alpha} e^{x_i} \\
     e^{-\alpha + y} &= \sum_{i=1}^n e^{-\alpha + x_i} \\
     e^{y -\alpha} &= \sum_{i=1}^n e^{x_i -\alpha} \\
     \log e^{y -\alpha} &= \log \sum_{i=1}^n e^{x_i -\alpha} \\
     y -\alpha &= \log \sum_{i=1}^n e^{x_i -\alpha} \\
     y &= \alpha + \log \sum_{i=1}^n e^{x_i -\alpha} \\

     \end{align}
  \]

</p>
</body>
</html>
